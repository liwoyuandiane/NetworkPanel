import{d as fA,r as h,c as te,w as eA,o as MA,a as DA,b as g,e as BA,f as k,g as R,h as cA,i as F,j as t,k as s,l,m as A,t as D,E as pA,n as lA,p as SA,q as CA,s as X,v as KA,F as gA,N as le,u as jA,x as hA,y as oe,z as E,A as FA,B as QA,C as se,D as LA,G as ne,H as VA,I as ae,J as ie,K as JA,L as re,M as ce,O as ue,P as de,Q as pe,R as fe,T as YA,S as me,V as _e,U as ve}from"./vendor-5ee69164.js";function Ui(){import.meta.url,import("_").catch(()=>1);async function*b(){}}(function(){const C=document.createElement("link").relList;if(C&&C.supports&&C.supports("modulepreload"))return;for(const w of document.querySelectorAll('link[rel="modulepreload"]'))p(w);new MutationObserver(w=>{for(const _ of w)if(_.type==="childList")for(const o of _.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&p(o)}).observe(document,{childList:!0,subtree:!0});function a(w){const _={};return w.integrity&&(_.integrity=w.integrity),w.referrerPolicy&&(_.referrerPolicy=w.referrerPolicy),w.crossOrigin==="use-credentials"?_.credentials="include":w.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function p(w){if(w.ep)return;w.ep=!0;const _=a(w);fetch(w.href,_)}})();const ge="data:audio/mpeg;base64,SUQzAwAAAAAAFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjAAAAAAlwAAAAAtASxAAAfQAAAOP//////////////////////////////////////////////////////////////////4xjAMQAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjAbAAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjApwAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA4geAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",he="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4Ljc2LjEwMAAAAAAAAAAAAAAA/+M4wAAAAAAAAAAAAEluZm8AAAAPAAAAVQAAGUAACw4RExYZGRwfIiUnKiotMDM2OT09QEJFSEtLTlFTVllcXF9iZWdqbm5xdHd6fX2AgoWIi46OkZOWmZygoKOmqayurrG0t7q9wMDCxcjLztLS1dja3eDg4+bp7O7x8fT3+v3/AAAAAExhdmYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABlARXpeHQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwAAAAAJcAAAAALQEsQAAH0AAADj//////////////////////////////////////////////////////////////////+MYwDEAAAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwGwAAAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwKcAAAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwOIHgAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASUQzAwAAAAAAFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjAAAAAAlwAAAAAtASxAAAfQAAAOP//////////////////////////////////////////////////////////////////4xjAMQAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjAbAAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjApwAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA4geAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABJRDMDAAAAAAAWAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMAAAAACXAAAAAC0BLEAAB9AAAA4///////////////////////////////////////////////////////////////////jGMAxAAACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMBsAAACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMCnAAACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMDiB4ACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD////////////////////////////////////////////////////////////////////////////////jGMD/DsACXAAAAAD/////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAP/jGMD/DsACXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMD/DsACXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMD/DsACXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/jGMD/DsACXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAElEMwMAAAAAABYAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwAAAAAJcAAAAALQEsQAAH0AAADj//////////////////////////////////////////////////////////////////+MYwDEAAAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwGwAAAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwKcAAAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwOIHgAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP///////////////////////////////////////////////////////////////////////////////+MYwP8OwAJcAAAAAP////////////////////////////////////////////////////8AAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+MYwP8OwAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASUQzAwAAAAAAFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjAAAAAAlwAAAAAtASxAAAfQAAAOP//////////////////////////////////////////////////////////////////4xjAMQAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjAbAAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjApwAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA4geAAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA////////////////////////////////////////////////////////////////////////////////4xjA/w7AAlwAAAAA/////////////////////////////////////////////////////wAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4xjA/w7AAlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=",zA={运营商:{"咪咕快游[高速]":"https://freeserver.migufun.com/resource/beta/apk/20231114094513/MiguPlay-V3.69.1.1_miguzsj.apk",咪咕音乐:"https://d.musicapp.migu.cn/upload/fbpt_rsync_apps/local/signed/MobileMusic7411/MobileMusic7411_014000D.apk",咪咕视频:"https://img.cmvideo.cn/publish/noms/2023/12/06/1O4SHFIFR36BD.gif",咪咕快游2:"https://h5cdn.migufun.com/middleh5/_nuxt/643447d.js",和彩云:"https://img.mcloud.139.com/material_prod/material_media/20221128/1669626861087.png",天翼云:"https://vod-origin-rjzy.gdoss.xstore.ctyun.cn/1de5da90486f42e8939deed107fd64a3.mp4",天翼云桌面:"https://desk.ctyun.cn:8999/desktop-prod/software/windows_tob_client/15/64/202000005/CtyunClouddeskUniversal_2.0.0_202000005_x86_20230421161227_Setup_Signed.exe",联通电视:"https://listen.10155.com/listener/womusic-bucket/90115000/mv_vod/volte_mp4/20230215/1625752132487675906.mp4"},高速:{电信测速:"https://vipspeedtest8.wuhan.net.cn:8080/download?size=1073741824",上海交大:"https://mirrors.sjtug.sjtu.edu.cn/speedtest/garbage?ckSize=1024"},"全球[Global]":{Cachefly:"https://web1.cachefly.net/speedtest/downloading",Cloudflare:"https://speed.cloudflare.com/__down?bytes=104857600",Akamai:"https://akamtrans-a.akamaihd.net/delivery/2023/08/30/brand-protector-2500k-00004.ts",jsDelivr:"https://cdn.jsdelivr.net/gh/ljxi/CDN-IP-test@main/dump","Cloudflare Workers":"https://gh.con.sh/https://github.com/AaronFeng753/Waifu2x-Extension-GUI/releases/download/v2.21.12/Waifu2x-Extension-GUI-v2.21.12-Portable.7z","Steam Akamai":"https://cdn.akamai.steamstatic.com/steam/apps/1063730/extras/NW_Sword_Sorcery_2.gif","Steam Cloudflare":"https://cdn.cloudflare.steamstatic.com/steam/apps/1063730/extras/NW_Sword_Sorcery_2.gif","Microsoft Akamai":"https://img-prod-cms-rt-microsoft-com.akamaized.net/cms/api/am/imageFileData/RW16Ptm"}},nA=b=>(SA("data-v-47b2603e"),b=b(),CA(),b),we={class:"block"},be={class:"card"},ye={key:0},xe=nA(()=>A("span",{style:{"font-size":"15px"}},"请使用QQ扫码登录",-1)),ke={style:{width:"150px",height:"150px","margin-top":"5px","margin-left":"auto","margin-right":"auto"}},Me=["src"],Se=nA(()=>A("br",null,null,-1)),Ce={key:1},Te=nA(()=>A("span",{style:{"font-size":"15px"}},"请输入刚刚用于授权的QQ号码",-1)),$e=nA(()=>A("br",null,null,-1)),Pe=nA(()=>A("br",null,null,-1)),Ie=nA(()=>A("br",null,null,-1)),Ue=nA(()=>A("span",{style:{"font-size":"10px"}},"QQ号码将用于排行榜展示",-1)),Ve={key:2},De=nA(()=>A("br",null,null,-1)),Be={style:{"font-size":"20px"}},je=nA(()=>A("br",null,null,-1)),Le=nA(()=>A("br",null,null,-1)),Ge=fA({__name:"My",props:{loginInfo:{type:Object,required:!0}},setup(b){const C=b,a=h(0),p=h(""),w=h(""),_=h(""),o=h(""),m=h(!1),N=h(!1),i=h({});let T=!1;const B=()=>{window.open(_.value,"_blank")},v=[["本小时","今天","本月","今年"],["上小时","昨天","上月","去年"]],r=te(()=>{let c=[],U=0,J=m.value?"prev":"now";return[3,2,1,0].forEach(H=>{N.value?c.push({des:v[m.value?1:0][U],allUsed:i.value[J][H].allUsed[0]||0,averageSpeed:i.value[J][H].averageSpeed[0]||0,onlineTime:i.value[J][H].onlineTime[0]||0}):c.push({des:v[m.value?1:0][U],allUsed:AA(i.value[J][H].allUsed[1]||0,0),averageSpeed:AA(i.value[J][H].averageSpeed[1]*8||0,1),onlineTime:mA(i.value[J][H].onlineTime[1]||0)}),U++}),c});eA(a,(c,U)=>{c<=0&&(C.loginInfo.AccessToken="")});const y=async(c,U)=>await(await fetch("//app.ljxnet.cn/network-panel/"+c,{method:"POST",mode:"cors",redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(U)})).json(),O=async()=>{p.value="";let c=await y("third_qq_login",{AccessToken:C.loginInfo.AccessToken});a.value=-1,c.status==0&&(p.value=c.img,_.value=c.url,localStorage.setItem("third_qq_login_session",c.session),I())},M=async()=>{pA.confirm("确定要强制下线登录该账号的其他设备吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{(await y("kick_old",{AccessToken:C.loginInfo.AccessToken})).status==0&&lA({type:"info",message:"已经下线其他设备"})}).catch(()=>{})},S=async()=>{pA.confirm("确定从此设备退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{O()}).catch(()=>{})},x=async()=>{let c=await y("third_qq_bind",{uin:w.value,session:localStorage.getItem("third_qq_login_session")});c.status==0?(lA.success("绑定成功"),I()):c.status==-3||c.status==-1?pA.alert("".concat(c.msg),"提示",{confirmButtonText:"确定"}):pA.alert("".concat(c.msg),"提示",{confirmButtonText:"确定",callback:()=>{O()}})},I=async(c=!1)=>{let U=await y("third_qq_check",{session:localStorage.getItem("third_qq_login_session")});if(U.status==0)return a.value=U.uin,C.loginInfo.AccessToken=U.AccessToken,localStorage.removeItem("third_qq_login_session"),q(),!0;if(U.status==-1)a.value=-1,T&&!c?setTimeout(()=>{I()},1e3):localStorage.removeItem("third_qq_login_session");else{if(U.status==-2)return a.value=-2,!0;localStorage.removeItem("third_qq_login_session"),pA.alert("登录失败，".concat(U.msg,"，请重新拉取二维码"),"提示",{confirmButtonText:"确定",callback:()=>{O()}})}return!1},q=async()=>{let c=await y("get_status",{AccessToken:C.loginInfo.AccessToken});if(c.status==0)a.value=c.uin,o.value=c.nick,i.value=c.data;else if(c.status==-1){if(localStorage.getItem("third_qq_login_session")&&await I(!0))return;a.value=-1,O()}};MA(()=>{T=!0,q()}),DA(()=>{T=!1});function AA(c,U){const J=[0,0,0,1,1,1],sA=[["B","KB","MB","GB","TB","PB"],["Bps","Kbps","Mbps","Gbps","Tbps","Pbps"]][U];for(var G=c,Z=0;G>=1024&&Z!=sA.length-1;)G=G/1024,Z++;return G.toFixed(J[Z])+sA[Z]}const mA=c=>c<60?c.toFixed(0)+"秒":(c/=60,c<60?c.toFixed(0)+"分钟":(c/=60,c<24?c.toFixed(0)+"小时":(c/=24,c.toFixed(0)+"天")));return(c,U)=>{const J=g("el-button"),H=g("el-input"),sA=g("el-avatar"),G=g("el-checkbox"),Z=g("el-table-column"),V=g("el-table"),uA=BA("loading");return k(),R("div",we,[cA((k(),R("div",be,[a.value==-1?(k(),R("div",ye,[xe,cA((k(),R("div",ke,[p.value?(k(),R("img",{key:0,style:{width:"100%"},src:p.value},null,8,Me)):F("",!0)])),[[uA,!p.value]]),Se,t(J,{class:"action warn",type:"warning",onClick:B},{default:s(()=>[l("一键跳转登录")]),_:1})])):F("",!0),a.value==-2?(k(),R("div",Ce,[Te,t(H,{modelValue:w.value,"onUpdate:modelValue":U[0]||(U[0]=tA=>w.value=tA),placeholder:"请输入QQ号",style:{"margin-top":"5px","margin-left":"auto","margin-right":"auto"}},null,8,["modelValue"]),$e,Pe,t(J,{class:"action warn",type:"warning",onClick:x},{default:s(()=>[l("点击验证")]),_:1}),Ie,Ue])):F("",!0),a.value>0?(k(),R("div",Ve,[t(sA,{size:100,src:"https://q.qlogo.cn/headimg_dl?dst_uin="+a.value+"&spec=640"},null,8,["src"]),De,A("span",Be,D(o.value),1),je,t(G,{modelValue:m.value,"onUpdate:modelValue":U[1]||(U[1]=tA=>m.value=tA),label:"上个统计周期",size:"small"},null,8,["modelValue"]),t(G,{modelValue:N.value,"onUpdate:modelValue":U[2]||(U[2]=tA=>N.value=tA),label:"显示排名",size:"small"},null,8,["modelValue"]),t(V,{"table-layout":"auto",data:r.value,border:!0,style:{width:"100%"}},{default:s(()=>[t(Z,{prop:"des",label:""}),t(Z,{prop:"allUsed",label:"总流量"}),t(Z,{prop:"averageSpeed",label:"平均速度"}),t(Z,{prop:"onlineTime",label:"在线时长"})]),_:1},8,["data"]),Le,t(J,{class:"action warn",type:"warning",onClick:M},{default:s(()=>[l("下线其他设备")]),_:1}),t(J,{class:"action danger",type:"danger",onClick:S},{default:s(()=>[l("退出登录")]),_:1})])):F("",!0)])),[[uA,!a.value]])])}}});const wA=(b,C)=>{const a=b.__vccOpts||b;for(const[p,w]of C)a[p]=w;return a},Ne=wA(Ge,[["__scopeId","data-v-47b2603e"]]),Oe={style:{"overflow-y":"auto","max-height":"calc(85vh - 100px)","margin-top":"-30px"}},Ee={class:"mb-2 flex items-center text-sm"},Re={class:"mb-2 flex items-center text-sm"},Fe={class:"block"},Je={style:{"margin-left":"10px","vertical-align":"6px"}},Ye={class:"block"},ze={class:"block"},Ke={class:"block"},Qe={style:{"margin-left":"10px"}},qe=fA({__name:"Mark",props:{show:Object,loginInfo:{type:Object,required:!0}},setup(b){const C=b,a=h("allUsed"),p=h(!1),w=h(!1),_=h(!0);window.onresize=()=>{window.outerWidth>500?_.value=!1:_.value=!0},window.outerWidth>500?_.value=!1:_.value=!0;const o=h(!1),m=h("3"),N=h("总流量"),i=()=>{let S={allUsed:"总流量",averageSpeed:"平均速度",onlineTime:"在线时长"}[a.value];return S||""},T=h(!1);C.show&&eA(C.show,(S,x)=>{T.value=S.show}),eA(T,(S,x)=>{C.show&&(C.show.show=S),S&&y()});const B=h([]),v=async S=>(S.push(["cache",window.location.host]),await(await fetch("//app.ljxnet.cn/network-panel/get.ajax?"+new URLSearchParams(S).toString(),{mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"})).json()),r=S=>{const x=["移动","联通","电信","广电"],I=["","success","warning","danger"];for(let q in x)if(S.includes(x[q]))return I[q];return"info"},y=async()=>{N.value=i(),p.value=!0,B.value=[];try{(await v([["grade",m.value],["sorted_by",a.value],["isPast",o.value?"true":"false"]])).data.forEach(x=>{let I;a.value=="allUsed"?I=O(x.data,["B","KB","MB","GB","TB","PB"],[0,0,0,0,1,1]):a.value=="averageSpeed"?I=O(x.data*8,["Bps","Kbps","Mbps","Gbps","Tbps","Pbps"],[0,0,0,1,1,1]):a.value=="onlineTime"&&(I=M(x.data)),x.data=I,x.type=r(x.isp),B.value.push(x)})}catch(S){pA.alert("无法获取榜单信息，可能是后端服务器异常","错误",{confirmButtonText:"确定"})}p.value=!1};function O(S,x,I){for(var q=S,AA=0;q>=1024&&AA!=x.length-1;)q=q/1024,AA++;return q.toFixed(I[AA])+x[AA]}const M=S=>S<60?S.toFixed(0)+"秒":(S/=60,S<60?S.toFixed(0)+"分钟":(S/=60,S<24?S.toFixed(0)+"小时":(S/=24,S.toFixed(0)+"天")));return(S,x)=>{const I=g("el-radio"),q=g("el-radio-group"),AA=g("el-checkbox"),mA=g("el-empty"),c=g("el-table-column"),U=g("el-avatar"),J=g("el-tag"),H=g("el-table"),sA=g("el-button"),G=g("el-dialog"),Z=BA("loading");return k(),R(gA,null,[t(G,{"align-center":"",style:{width:"95vw","max-width":"600px","max-height":"85vh"},modelValue:T.value,"onUpdate:modelValue":x[4]||(x[4]=V=>T.value=V),title:"排行榜"},{default:s(()=>[A("div",Oe,[A("div",Ee,[t(q,{modelValue:a.value,"onUpdate:modelValue":x[0]||(x[0]=V=>a.value=V),onChange:y,class:"ml-4"},{default:s(()=>[t(I,{label:"allUsed",size:"small"},{default:s(()=>[l("总流量")]),_:1}),t(I,{label:"averageSpeed",size:"small"},{default:s(()=>[l("平均速度")]),_:1}),t(I,{label:"onlineTime",size:"small"},{default:s(()=>[l("在线时长")]),_:1})]),_:1},8,["modelValue"])]),A("div",Re,[t(q,{modelValue:m.value,"onUpdate:modelValue":x[2]||(x[2]=V=>m.value=V),onChange:y,class:"ml-4"},{default:s(()=>[t(I,{label:"3",size:"small"},{default:s(()=>[l("小时")]),_:1}),t(I,{label:"2",size:"small"},{default:s(()=>[l("天")]),_:1}),t(I,{label:"1",size:"small"},{default:s(()=>[l("月")]),_:1}),t(I,{label:"0",size:"small"},{default:s(()=>[l("年")]),_:1}),t(AA,{modelValue:o.value,"onUpdate:modelValue":x[1]||(x[1]=V=>o.value=V),label:"上个统计周期",size:"small",onChange:y},null,8,["modelValue"])]),_:1},8,["modelValue"])]),cA((k(),X(H,{style:{"min-height":"500px"},"table-layout":"auto",data:B.value,size:"small"},{empty:s(()=>[cA(t(mA,{description:"没有数据"},null,512),[[KA,!p.value]])]),default:s(()=>[t(c,{type:"index",label:"",width:"40"}),t(c,{prop:"user",label:"用户"},{default:s(V=>[A("div",Fe,[t(U,{size:30,src:V.row.headimg},null,8,["src"]),A("span",Je,D(V.row.user),1)])]),_:1}),t(c,{prop:"data",label:N.value},null,8,["label"]),_.value?(k(),X(c,{key:0,prop:"user",label:"属地"},{default:s(V=>[A("div",Ye,[t(J,{size:"small",type:V.row.type,round:""},{default:s(()=>[l(D(V.row.short),1)]),_:2},1032,["type"])])]),_:1})):F("",!0),_.value?F("",!0):(k(),X(c,{key:1,prop:"user",label:"运营商"},{default:s(V=>[A("div",ze,[t(J,{size:"small",type:V.row.type,round:""},{default:s(()=>[l(D(V.row.isp),1)]),_:2},1032,["type"])])]),_:1})),_.value?F("",!0):(k(),X(c,{key:2,prop:"user",label:"属地"},{default:s(V=>[A("div",Ke,[A("span",Qe,D(V.row.addr),1)])]),_:1}))]),_:1},8,["data"])),[[Z,p.value]])]),t(sA,{style:{width:"100%"},onClick:x[3]||(x[3]=V=>w.value=!0)},{default:s(()=>[l("用户中心")]),_:1})]),_:1},8,["modelValue"]),t(G,{"align-center":"",style:{width:"99vw","max-width":"500px"},modelValue:w.value,"onUpdate:modelValue":x[5]||(x[5]=V=>w.value=V),title:"用户中心"},{default:s(()=>[w.value?(k(),X(Ne,{key:0,loginInfo:C.loginInfo},null,8,["loginInfo"])):F("",!0)]),_:1},8,["modelValue"])],64)}}}),oA=b=>(SA("data-v-9b8c8f2b"),b=b(),CA(),b),He={class:"content"},We={class:"left"},Ze=oA(()=>A("div",{class:"title"},[A("span",null,"NetworkPanel")],-1)),Xe={class:"time"},At={class:"date"},et={class:"right"},tt={class:"state"},lt=oA(()=>A("span",{class:"des"},"总流量",-1)),ot=oA(()=>A("br",null,null,-1)),st={class:"value"},nt=oA(()=>A("br",null,null,-1)),at=oA(()=>A("br",null,null,-1)),it={class:"des"},rt=oA(()=>A("br",null,null,-1)),ct={class:"value"},ut=oA(()=>A("br",null,null,-1)),dt=oA(()=>A("br",null,null,-1)),pt={class:"des"},ft=oA(()=>A("br",null,null,-1)),mt={class:"value"},_t=oA(()=>A("br",null,null,-1)),vt=oA(()=>A("br",null,null,-1)),gt=fA({__name:"FullScreen",props:{state:{type:Object,required:!0},isRunning:{type:Boolean,required:!0},modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(b,{emit:C}){const a=b,p=h();document.addEventListener("fullscreenchange",function(T){document.fullscreenElement?C("update:modelValue",!0):C("update:modelValue",!1)});let _=/MiuiBrowser/i.test(navigator.userAgent)?null:new le;jA(async()=>{if(a.modelValue){if(_==null||_.enable(),!p.value)return;p.value.requestFullscreen?p.value.requestFullscreen():p.value.webkitRequestFullscreen?p.value.webkitRequestFullscreen():p.value.mozRequestFullscreen?p.value.mozRequestFullscreen():p.value.msRequestFullscreen&&p.value.msRequestFullscreen()}else _==null||_.disable()});const o=h(""),m=h(""),N=["周日","周一","周二","周三","周四","周五","周六"];let i=0;return MA(()=>{i=setInterval(()=>{const T=new Date;o.value="".concat(T.getHours().toString().padStart(2,"0"),":").concat(T.getMinutes().toString().padStart(2,"0")),m.value="".concat(T.getFullYear(),"-").concat(T.getMonth()+1,"-").concat(T.getDate()," ").concat(N[T.getDay()])},1e3)}),DA(()=>{clearInterval(i)}),(T,B)=>b.modelValue?(k(),R("div",{key:0,ref_key:"elment",ref:p,class:"fullscreen",onClick:B[0]||(B[0]=()=>C("update:modelValue",!1)),onWheel:B[1]||(B[1]=v=>v.preventDefault()),onTouchmove:B[2]||(B[2]=v=>v.preventDefault())},[A("div",He,[A("div",We,[Ze,A("div",Xe,[A("span",null,D(o.value),1)]),A("div",At,[A("span",null,D(m.value),1)])]),A("div",et,[A("div",tt,[lt,ot,A("span",st,D(b.state.show.allUsed),1),nt,at,A("span",it,D(b.isRunning?"实时速度":"平均速度"),1),rt,A("span",ct,D(b.state.show.speed),1),ut,dt,A("span",pt,D(b.isRunning?"实时带宽":"平均带宽"),1),ft,A("span",mt,D(b.state.show.speedBit),1),_t,vt])])])],544)):F("",!0)}});const ht=wA(gt,[["__scopeId","data-v-9b8c8f2b"]]),z=b=>(SA("data-v-34d827a0"),b=b(),CA(),b),wt={style:{"margin-top":"10px","margin-left":"10px","margin-right":"10px"}},bt={class:"slider-demo-block"},yt=z(()=>A("span",{class:"font-background"},"测速地址：",-1)),xt=z(()=>A("br",null,null,-1)),kt={style:{"margin-top":"20px"}},Mt={class:"font-background"},St={style:{width:"100%",height:"32px"}},Ct={style:{float:"left"}},Tt={style:{float:"right"}},$t={class:"ItemContainer"},Pt={class:"showItem"},It=z(()=>A("span",{class:"font-background",style:{"font-size":"larger"}},"总流量",-1)),Ut=z(()=>A("div",{class:"state-icon"},[A("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-15 w-15 float-right pt-3"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})])],-1)),Vt={class:"showItem"},Dt={class:"font-background",style:{"font-size":"larger"}},Bt=z(()=>A("br",null,null,-1)),jt=z(()=>A("br",null,null,-1)),Lt=z(()=>A("br",null,null,-1)),Gt=z(()=>A("div",{class:"state-icon state-icon-main"},[A("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-15 w-15 float-right pt-3"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M16.469,8.924l-2.414,2.413c-0.156,0.156-0.408,0.156-0.564,0c-0.156-0.155-0.156-0.408,0-0.563l2.414-2.414c1.175-1.175,1.175-3.087,0-4.262c-0.57-0.569-1.326-0.883-2.132-0.883s-1.562,0.313-2.132,0.883L9.227,6.511c-1.175,1.175-1.175,3.087,0,4.263c0.288,0.288,0.624,0.511,0.997,0.662c0.204,0.083,0.303,0.315,0.22,0.52c-0.171,0.422-0.643,0.17-0.52,0.22c-0.473-0.191-0.898-0.474-1.262-0.838c-1.487-1.485-1.487-3.904,0-5.391l2.414-2.413c0.72-0.72,1.678-1.117,2.696-1.117s1.976,0.396,2.696,1.117C17.955,5.02,17.955,7.438,16.469,8.924 M10.076,7.825c-0.205-0.083-0.437,0.016-0.52,0.22c-0.083,0.205,0.016,0.437,0.22,0.52c0.374,0.151,0.709,0.374,0.997,0.662c1.176,1.176,1.176,3.088,0,4.263l-2.414,2.413c-0.569,0.569-1.326,0.883-2.131,0.883s-1.562-0.313-2.132-0.883c-1.175-1.175-1.175-3.087,0-4.262L6.51,9.227c0.156-0.155,0.156-0.408,0-0.564c-0.156-0.156-0.408-0.156-0.564,0l-2.414,2.414c-1.487,1.485-1.487,3.904,0,5.391c0.72,0.72,1.678,1.116,2.696,1.116s1.976-0.396,2.696-1.116l2.414-2.413c1.487-1.486,1.487-3.905,0-5.392C10.974,8.298,10.55,8.017,10.076,7.825"})])],-1)),Nt={class:"showItem"},Ot=z(()=>A("span",{class:"font-background",style:{"font-size":"larger"}},"带宽",-1)),Et=z(()=>A("div",{class:"state-icon"},[A("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"h-15 w-15 float-right pt-3"},[A("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),Rt={style:{width:"fit-content",display:"block","margin-top":"2ch","margin-left":"auto","margin-right":"auto"}},Ft=z(()=>A("svg",{t:"1694957757562",class:"svg-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4036",width:"200",height:"200"},[A("path",{d:"M823.8 603.5l-501.2 336c-50.7 34-119.3 20.4-153.2-30.2-12.2-18.2-18.7-39.6-18.7-61.5v-672c0-61 49.5-110.4 110.4-110.4 21.9 0 43.3 6.5 61.5 18.7l501.1 336c50.7 34 64.2 102.6 30.2 153.2-7.8 11.9-18.1 22.2-30.1 30.2z m0 0","p-id":"4037"})],-1)),Jt=[Ft],Yt={key:1,class:"button"},zt={t:"1694958268344",fill:"white",style:{width:"80px","margin-top":"-30px"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7667",width:"200",height:"200"},Kt=z(()=>A("path",{d:"M352 768c-17.664 0-32-14.304-32-32V288c0-17.664 14.336-32 32-32s32 14.336 32 32v448c0 17.696-14.336 32-32 32zM672 768c-17.696 0-32-14.304-32-32V288c0-17.664 14.304-32 32-32s32 14.336 32 32v448c0 17.696-14.304 32-32 32z","p-id":"7668"},null,-1)),Qt=[Kt],qt=z(()=>A("br",null,null,-1)),Ht=z(()=>A("br",null,null,-1)),Wt=z(()=>A("br",null,null,-1)),Zt=z(()=>A("br",null,null,-1)),Xt={class:"dialog-footer"},Al={class:"mt-4"},el={class:"dialog-footer"},tl={class:"mt-4"},ll=z(()=>A("br",null,null,-1)),ol=z(()=>A("br",null,null,-1)),sl=z(()=>A("br",null,null,-1)),nl=z(()=>A("br",null,null,-1)),al={class:"dialog-footer"},il=["src"],rl=["src"],cl=fA({__name:"Main",props:{isVisible:Boolean},setup(b){const C=b,a=h({show:!1}),p=hA(localStorage.customNodes?JSON.parse(localStorage.customNodes):[]),w=[];for(let n in zA){const e=zA[n],f={label:n,options:[]};for(let $ in e)f.options.push({value:e[$],label:$});w.push(f)}const _=h(w);p.length&&(_.value=[{label:"自定义",options:p}].concat(w)),eA(p,async(n,e)=>{p.length?_.value=[{label:"自定义",options:p}].concat(w):_.value=w,localStorage.customNodes=JSON.stringify(n)},{deep:!0});const o=hA({show:{allUsed:"-",speed:"-",speedBit:"-"},predict:{min:"-",hour:"-",day:"-",mon:"-"},isChecking:!1,bytesUsed:0,logged:0,lastLogTime:0,recordUse:0,recordTime:0,startUse:0,startTime:0,maxUse:localStorage.maxUse?Number(localStorage.maxUse):0,maxSpeed:localStorage.maxSpeed?Number(localStorage.maxSpeed):0}),m=h(!1),N=h(!1),i=hA({AccessToken:localStorage.AccessToken?localStorage.AccessToken:""}),T=h(localStorage.chartShow?localStorage.chartShow==="true":!1),B=h(localStorage.threadNum?Number(localStorage.threadNum):8),v=h(localStorage.runBackground?localStorage.runBackground==="true":!1),r=h(localStorage.autoStart?localStorage.autoStart==="true":!1),y=h(localStorage.url?localStorage.url:_.value[0].options[0].value);var O=[];MA(()=>{r.value&&M()});const M=async()=>{if(y.value.startsWith("NetworkPanelApi://")){m.value=!0;return}o.isChecking=!0;const n=await x(y.value);o.isChecking=!1,n.status?m.value=!0:lA.error({dangerouslyUseHTMLString:!0,message:n.info})},S=["ljxnet.cn","netart.cn",".gov.cn"],x=async n=>{var e=!0;let f="";try{let $=new URL(n);if(S.some($A=>$.host.endsWith($A)))throw"你不对劲，我要拿小本本把你记下来然后交给警察蜀黍！";const j=new AbortController,P=setTimeout(()=>j.abort(),5e3),L=await fetch(n,{cache:"no-store",mode:"cors",referrerPolicy:"no-referrer",signal:j.signal});if(L.status==404)throw"资源响应异常"+L.status;if(!L.body)throw"资源响应异常 Nobody";const K=L.body.getReader(),{value:W,done:Q}=await K.read();if(!W||W.length<=0)throw"资源响应异常 Nobody";K.cancel()}catch($){e=!1,$ instanceof Error?f=$.message:f=String($)}return{status:e,info:f}};let I="";async function q(){if(!y.value.startsWith("NetworkPanelApi://")){I=y.value;return}let n=y.value.split("NetworkPanelApi://")[1],e=await fetch("//app.ljxnet.cn/network-panel/url.ajax?"+new URLSearchParams({host:n,cache:window.location.host}),{mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"});if(e=await e.json(),e.status!=0){m.value=!1;return}I=e.url}eA(m,async(n,e)=>{var $,j;if(EA(),n){if(o.isChecking=!0,await q(),o.isChecking=!1,!m.value)return;o.maxUse&&o.bytesUsed>=o.maxUse&&(o.bytesUsed=0,o.logged=0),o.lastLogTime=new Date().getTime()/1e3,o.startUse=o.bytesUsed,o.startTime=new Date().getTime()/1e3,o.recordUse=o.bytesUsed,o.recordTime=new Date().getTime()/1e3;for(let P=0;P<B.value;P++)V(P);O.push(setInterval(H,16)),O.push(setInterval(AA,6e4)),O.push(setInterval(q,6e4)),sA(),O.push(setInterval(sA,1e3)),v.value&&(($=dA.value)==null||$.play())}else{O.map(P=>console.log(P)),O.map(P=>clearInterval(P)),O=[],AA(),(j=dA.value)==null||j.pause();var f=(o.bytesUsed-o.startUse)/(new Date().getTime()/1e3-o.startTime);J(f),U(),C.isVisible||c()}});async function AA(){let n=new Date().getTime()/1e3,e=o.bytesUsed-o.logged,f=n-o.lastLogTime;o.logged=o.bytesUsed,o.lastLogTime=n;let $=await fetch("//app.ljxnet.cn/network-panel/log",{method:"POST",mode:"cors",redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({AccessToken:i.AccessToken,url:y.value,threadNum:B.value,used:e,time:f})});$=await $.json(),$.status==-1&&(i.AccessToken="")}eA(C,async(n,e)=>{!n.isVisible&&v.value&&m.value&&sA(),!n.isVisible&&!v.value&&m.value&&(m.value=!1),n.isVisible&&c()}),eA(B,async(n,e)=>{if(localStorage.threadNum=n,m.value&&n>e)for(let f=e;f<n;f++)V(f)}),eA(v,async(n,e)=>{localStorage.runBackground=n}),eA(T,async(n,e)=>{localStorage.chartShow=n,n&&setTimeout(()=>rA.resize(),100)}),eA(y,async(n,e)=>{localStorage.url=n,m.value&&q()}),eA(i,async(n,e)=>{localStorage.AccessToken=n.AccessToken}),jA(()=>{localStorage.autoStart=r.value});const mA=()=>{LA(y.value).then(()=>{lA.success({dangerouslyUseHTMLString:!0,message:"已复制当前链接"})})};window.addEventListener("paste",function(n){var j;if(n.clipboardData&&n.clipboardData.items&&((j=document.activeElement)==null?void 0:j.nodeName)!="INPUT")for(var e=0,f=n.clipboardData.items.length;e<f;e++){var $=n.clipboardData.items[e];if($.type==="text/plain"){n.clipboardData.items[e].getAsString(async function(P){let L=bA(P);if(L){lA.info("读取剪切板链接成功,正在检测链接可用性");let K=await x(L);K.status?(y.value=L,lA.success("读取剪切板链接成功")):lA.error(K.info)}else lA.error("没有检测到剪切板中的链接")});break}}});var c=(n=0)=>{C.isVisible?document.title="网络面板":m.value?document.title=G(o.bytesUsed,0,[0,0,0,0,0,0])+" "+G(n,1,[0,0,0,0,0,0]):o.maxUse&&o.bytesUsed>=o.maxUse?document.title="已完成":document.title="已暂停"},U=()=>{o.bytesUsed||(o.show.allUsed="-"),o.show.allUsed=G(o.bytesUsed,0,[0,0,1,2,2,2])},J=n=>{o.show.speed=G(n,1,[0,0,1,2,2,2]),o.show.speedBit=G(n*8,2,[0,0,0,2,2,2]),o.predict.min=G(n*60,0,[0,0,0,1,1,1]),o.predict.hour=G(n*60*60,0,[0,0,0,1,1,1]),o.predict.day=G(n*60*60*24,0,[0,0,0,1,1,1]),o.predict.mon=G(n*60*60*24*30,0,[0,0,0,1,1,1])},H=()=>{C.isVisible&&U(),o.maxUse&&o.bytesUsed>=o.maxUse&&(m.value=!1)},sA=()=>{var n=(o.bytesUsed-o.recordUse)/(new Date().getTime()/1e3-o.recordTime);isNaN(n)?TA(0):TA(n),n<=0||isNaN(n)?(o.show.speed="-",o.show.speedBit="-"):C.isVisible?J(n):v.value&&c(n),o.recordUse=o.bytesUsed,o.recordTime=new Date().getTime()/1e3};function G(n,e,f){const j=[["B","KB","MB","GB","TB","PB"],["B/s","KB/s","MB/s","GB/s","TB/s","PB/s"],["Bps","Kbps","Mbps","Gbps","Tbps","Pbps"]][e];for(var P=n,L=0;P>=1024&&L!=j.length-1;)P=P/1024,L++;return P.toFixed(f[L])+j[L]}const Z=()=>{if(o.bytesUsed-o.recordUse>o.maxSpeed/8)return new Promise(n=>{setTimeout(()=>{n(0)},1e3-new Date().getTime()%1e3)})};async function V(n){try{if(I==""){m.value=!1;return}let e=I;const f=await fetch(e,{cache:"no-store",mode:"cors",referrerPolicy:"no-referrer"});if(!f.body)throw"Nobody";let $=f.headers.get("content-length"),j=1/0;$&&(j=parseInt($));const P=f.body.getReader();let L=0;for(;;){o.maxSpeed&&await Z();const{value:K}=await P.read();let W=K==null?void 0:K.length;if(!W||I!=e){V(n);break}let Q=W;if(L>=j?Q=0:L+W>j&&(Q=j-L),o.bytesUsed+=Q,n>=B.value||!m.value)break;L+=W}P.cancel()}catch(e){console.log(e),m.value&&V(n)}}const uA=h(!1),tA=h(!1),_A=h(!1),vA=h(!1),Y=h({label:"",value:"",checking:!1}),bA=n=>{var e=n.match(/https?:\/\/([\w-]+\.)+[\w-]+(:[0-9]+)?(\/\S*)?/);return e?e[0]:""},qA=async()=>{Y.value.value=bA(Y.value.value),Y.value.checking=!0;const n=await x(Y.value.value);if(!n.status){Y.value.checking=!1,lA.error({dangerouslyUseHTMLString:!0,message:n.info});return}Y.value.checking=!1,p.push({label:Y.value.label,value:Y.value.value}),Y.value.label="",Y.value.value="",tA.value=!1},aA=h({num:null,type:"GB"}),HA=()=>{var n={MB:1048576,GB:1073741824,TB:1099511627776},e=0;aA.value.num&&(e=Math.floor(aA.value.num*n[aA.value.type])),o.maxUse=e,localStorage.maxUse=e,aA.value.num=null,_A.value=!1},iA=h({num:null,type:"Mbps"}),WA=()=>{var n={Kbps:1024,Mbps:1048576,Gbps:1073741824},e=0;iA.value.num&&(e=Math.floor(iA.value.num*n[iA.value.type])),o.maxSpeed=e,localStorage.maxSpeed=e,iA.value.num=null,vA.value=!1};var ZA=/Mobi|Android|iPhone|Macintosh/i.test(navigator.userAgent),XA=/MiuiBrowser/i.test(navigator.userAgent),NA=/iPhone|Macintosh/i.test(navigator.userAgent);const dA=h(null),OA=h(null);let rA,TA=n=>{},EA=()=>{};return MA(()=>{rA=oe(OA.value);const n={tooltip:{trigger:"axis",formatter:function(j){let P=G(j[0].data[1],1,[0,0,1,2,2,2]);return"".concat(new Date(j[0].data[0]*1e3).toLocaleString(),"<br />\n              ").concat(P)}},toolbox:{feature:{saveAsImage:{}}},title:{left:"left",text:"速度图表"},xAxis:{type:"time",boundaryGap:!1,axisLabel:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",axisLabel:{formatter:j=>{let P=G(j,1,[0,0,0,0,0,0]);return P=="-"?0:P}}},series:[{name:"速度",type:"line",smooth:!1,symbol:"none",areaStyle:{},data:[[new Date().getTime()/1e3,0]]}],grid:{x:0,y:40,x2:8,y2:10,containLabel:!0}};rA.setOption(n);let e=[],f=[],$=1;EA=()=>{f=[],e.push([new Date().getTime()/1e3,0])},TA=j=>{let P=!1;for(f.push(j);f.length>=$;){P=!0;var L=f.splice(0,$);let K;L.includes(0)?K=0:K=L.reduce((W,Q)=>W+Q,0)/$,e.push([new Date().getTime()/1e3,K])}for(;e.length>=200;){P=!0;const K=[],W=e.length%2===0?e.length:e.length-1;for(let Q=0;Q<W;Q+=2)K.push([e[Q][0],(e[Q][1]+e[Q+1][1])/2]);e=K,$*=2}n.series[0].data=e,T.value&&P&&rA.setOption(n)},window.addEventListener("resize",()=>{rA.resize()})}),DA(()=>{rA&&rA.dispose()}),(n,e)=>{const f=g("el-button"),$=g("el-option"),j=g("el-option-group"),P=g("el-icon"),L=g("el-select"),K=g("el-slider"),W=g("el-switch"),Q=g("el-text"),$A=g("el-popover"),PA=g("el-table-column"),Ae=g("el-table"),ee=g("el-empty"),yA=g("el-dialog"),xA=g("el-input"),RA=g("el-form-item"),IA=g("el-form"),UA=g("el-alert");return k(),R(gA,null,[A("div",{class:"radius card",style:QA({borderRadius:"var(--el-border-radius-round)"})},[A("div",wt,[A("div",bt,[yt,t(f,{type:"primary",icon:E(ne),link:"",onClick:mA},null,8,["icon"]),t(f,{type:"primary",icon:E(VA),link:"",onClick:e[0]||(e[0]=u=>uA.value=!0)},null,8,["icon"]),xt,t(L,{style:{width:"100%"},modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=u=>y.value=u)},{prefix:s(()=>[t(P,null,{default:s(()=>[t(E(ae))]),_:1})]),default:s(()=>[(k(!0),R(gA,null,FA(_.value,u=>(k(),X(j,{key:u.label,label:u.label},{default:s(()=>[(k(!0),R(gA,null,FA(u.options,kA=>(k(),X($,{key:kA.value,label:kA.label,value:kA.value},null,8,["label","value"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),A("div",kt,[A("span",Mt,"线程数："+D(B.value),1),t(K,{"show-tooltip":!1,min:1,max:64,modelValue:B.value,"onUpdate:modelValue":e[2]||(e[2]=u=>B.value=u)},null,8,["modelValue"])]),A("div",St,[A("div",Ct,[t(W,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=u=>v.value=u),"active-text":"保持后台运行"},null,8,["modelValue"])]),A("div",Tt,[t(W,{modelValue:r.value,"onUpdate:modelValue":e[4]||(e[4]=u=>r.value=u),"active-text":"自动运行"},null,8,["modelValue"])])]),A("div",$t,[A("div",Pt,[It,t(Q,{size:"small",class:"mx-1"},{default:s(()=>[l(D(o.maxUse?"/"+G(o.maxUse,0,[0,0,0,0,0,0]):""),1)]),_:1}),t(f,{type:"primary",style:{height:"15px"},icon:E(VA),link:"",onClick:e[5]||(e[5]=u=>_A.value=!0)},null,8,["icon"]),Ut,t(Q,{class:"font-data"},{default:s(()=>[l(D(o.show.allUsed),1)]),_:1})]),A("div",Vt,[A("span",Dt,D(m.value?"实时速度":"平均速度"),1),t($A,{placement:"top-start",title:"用量预测",width:150,trigger:"click"},{reference:s(()=>[t(f,{type:"primary",style:{height:"15px","vertical-align":"-2px"},icon:E(ie),link:""},null,8,["icon"])]),default:s(()=>[l(" 每分钟  "+D(o.predict.min)+" ",1),Bt,l(" 每小时  "+D(o.predict.hour)+" ",1),jt,l(" 每天     "+D(o.predict.day)+" ",1),Lt,l(" 每月     "+D(o.predict.mon),1)]),_:1}),Gt,t(Q,{class:"font-data state-icon-main"},{default:s(()=>[l(D(o.show.speed),1)]),_:1})]),A("div",Nt,[Ot,t(Q,{size:"small",class:"mx-1"},{default:s(()=>[l(D(o.maxSpeed?"/"+G(o.maxSpeed,2,[0,0,0,0,0,0]):""),1)]),_:1}),t(f,{type:"primary",style:{height:"15px"},icon:E(VA),link:"",onClick:e[6]||(e[6]=u=>vA.value=!0)},null,8,["icon"]),Et,t(Q,{class:"font-data"},{default:s(()=>[l(D(o.show.speedBit),1)]),_:1})])]),A("div",Rt,[!m.value&&!o.isChecking?(k(),R("a",{key:0,class:"button",onClick:M},Jt)):F("",!0),o.isChecking?(k(),R("a",Yt,[t(P,{size:60,class:"is-loading el-icon-loading"},{default:s(()=>[t(E(JA))]),_:1})])):F("",!0),m.value&&!o.isChecking?(k(),R("a",{key:2,class:"button",onClick:e[7]||(e[7]=u=>m.value=!1)},[(k(),R("svg",zt,Qt))])):F("",!0)]),t(f,{style:{float:"left","margin-top":"-20px","margin-right":"3px"},type:"primary",icon:E(re),link:"",onClick:e[8]||(e[8]=u=>a.value.show=!0)},null,8,["icon"]),t(f,{style:{float:"left","margin-top":"-20px","margin-left":"39px"},type:"primary",icon:E(ce),link:"",onClick:e[9]||(e[9]=u=>N.value=!0)},null,8,["icon"]),T.value?F("",!0):(k(),X(f,{key:0,style:{float:"right","margin-top":"-20px","margin-right":"3px"},type:"primary",icon:E(ue),link:"",onClick:e[10]||(e[10]=u=>T.value=!0)},null,8,["icon"])),T.value?(k(),X(f,{key:1,style:{float:"right","margin-top":"-20px","margin-right":"3px"},type:"primary",icon:E(de),link:"",onClick:e[11]||(e[11]=u=>T.value=!1)},null,8,["icon"])):F("",!0),cA(A("div",{ref_key:"chartContainer",ref:OA,style:{width:"100%",height:"400px"}},null,512),[[KA,T.value]])])],4),t(yA,{style:{width:"90%","max-width":"700px"},modelValue:uA.value,"onUpdate:modelValue":e[13]||(e[13]=u=>uA.value=u),title:"自定义地址"},{default:s(()=>[p.length?(k(),X(Ae,{key:0,data:p,style:{width:"100%"},"max-height":"300"},{default:s(()=>[t(PA,{prop:"label",label:"名称",width:"100"}),t(PA,{prop:"value",label:"URL"}),t(PA,{fixed:"right",label:"",width:"50"},{default:s(u=>[t(f,{type:"danger",link:"",icon:E(pe),onClick:se(kA=>p.splice(u.$index,1),["prevent"])},null,8,["icon","onClick"])]),_:1})]),_:1},8,["data"])):(k(),X(ee,{key:1,description:"没有自定义地址"})),t(f,{class:"mt-4",style:{width:"100%"},onClick:e[12]||(e[12]=u=>{tA.value=!0})},{default:s(()=>[l("添加地址")]),_:1})]),_:1},8,["modelValue"]),t(yA,{style:{width:"90%","max-width":"700px"},modelValue:tA.value,"onUpdate:modelValue":e[18]||(e[18]=u=>tA.value=u),title:"添加链接"},{footer:s(()=>[A("span",Xt,[t(f,{onClick:e[16]||(e[16]=u=>tA.value=!1)},{default:s(()=>[l("取消")]),_:1}),t(f,{type:"primary",disabled:!bA(Y.value.value)||!Y.value.label||Y.value.checking,onClick:e[17]||(e[17]=u=>qA())},{default:s(()=>[l("确认 "),Y.value.checking?(k(),X(P,{key:0,class:"is-loading"},{default:s(()=>[t(E(JA))]),_:1})):F("",!0)]),_:1},8,["disabled"])])]),default:s(()=>[t(IA,{model:Y.value},{default:s(()=>[t(RA,{label:"名称:","label-width":"50px"},{default:s(()=>[t(xA,{modelValue:Y.value.label,"onUpdate:modelValue":e[14]||(e[14]=u=>Y.value.label=u),autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(RA,{label:"url:","label-width":"50px"},{default:s(()=>[t(xA,{modelValue:Y.value.value,"onUpdate:modelValue":e[15]||(e[15]=u=>Y.value.value=u),autocomplete:"off"},{suffix:s(()=>[bA(Y.value.value)?(k(),X(P,{key:0},{default:s(()=>[t(E(fe))]),_:1})):F("",!0)]),default:s(()=>[l("> ")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),t(UA,{title:"注意：",type:"warning"},{default:s(()=>[l(" 在浏览器工作的程序受到浏览器安全策略的限制 "),qt,l(" 以下情况你将无法正常使用链接 "),Ht,l(" 1.你使用https协议打开的本站，但是url是http协议 "),Wt,l(" 2.目标服务器返回的Access-Control-Allow-Origin响应头没有允许本站 "),Zt,l(" 具体细节请在报错后查看控制台 ")]),_:1}),t(UA,{title:"免责声明：",type:"error"},{default:s(()=>[l(" 请勿用于非法用途，使用本功能造成的一切后果由用户承担 ")]),_:1})]),_:1},8,["modelValue"]),t(yA,{style:{width:"90%","max-width":"300px"},modelValue:_A.value,"onUpdate:modelValue":e[23]||(e[23]=u=>_A.value=u),title:"设置上限自动停止"},{footer:s(()=>[A("span",el,[t(f,{onClick:e[21]||(e[21]=u=>_A.value=!1)},{default:s(()=>[l("取消")]),_:1}),t(f,{type:"primary",onClick:e[22]||(e[22]=u=>HA())},{default:s(()=>[l(" 确定 ")]),_:1})])]),default:s(()=>[t(IA,null,{default:s(()=>[A("div",Al,[t(xA,{type:"number",min:"1",modelValue:aA.value.num,"onUpdate:modelValue":e[20]||(e[20]=u=>aA.value.num=u),autocomplete:"off",placeholder:"留空则无上限",class:"input-with-select"},{append:s(()=>[t(L,{modelValue:aA.value.type,"onUpdate:modelValue":e[19]||(e[19]=u=>aA.value.type=u),placeholder:"Select",style:{width:"65px"}},{default:s(()=>[t($,{label:"MB",value:"MB"}),t($,{label:"GB",value:"GB"}),t($,{label:"TB",value:"TB"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"]),t(yA,{style:{width:"90%","max-width":"350px"},modelValue:vA.value,"onUpdate:modelValue":e[28]||(e[28]=u=>vA.value=u),title:"设置带宽上限"},{footer:s(()=>[A("span",al,[t(f,{onClick:e[26]||(e[26]=u=>vA.value=!1)},{default:s(()=>[l("取消")]),_:1}),t(f,{type:"primary",onClick:e[27]||(e[27]=u=>WA())},{default:s(()=>[l(" 确定 ")]),_:1})])]),default:s(()=>[t(IA,null,{default:s(()=>[A("div",tl,[t(xA,{type:"number",min:"1",modelValue:iA.value.num,"onUpdate:modelValue":e[25]||(e[25]=u=>iA.value.num=u),autocomplete:"off",placeholder:"留空则无上限",class:"input-with-select"},{append:s(()=>[t(L,{modelValue:iA.value.type,"onUpdate:modelValue":e[24]||(e[24]=u=>iA.value.type=u),placeholder:"Select",style:{width:"80px"}},{default:s(()=>[t($,{label:"Mbps",value:"Mbps"}),t($,{label:"Gbps",value:"Gbps"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),ll,ol,t(UA,{title:"注意：",type:"warning"},{default:s(()=>[l(" 浏览器会使用缓存策略"),sl,l("只能限制平均速度，无法限制峰值速度!"),nl,l("部分链接无法限速，请使用其它限速方法 ")]),_:1})])]),_:1})]),_:1},8,["modelValue"]),t(qe,{show:a.value,loginInfo:i},null,8,["show","loginInfo"]),E(ZA)&&!E(NA)&&!E(XA)&&v.value?(k(),R("audio",{key:0,onCanplay:e[29]||(e[29]=()=>{m.value&&dA.value.play()}),onPause:e[30]||(e[30]=()=>{v.value&&(m.value=!1)}),onPlay:e[31]||(e[31]=u=>m.value=!0),controls:"",loop:"",ref_key:"audioDom",ref:dA,style:{display:"none"}},[A("source",{src:E(he),type:"audio/mpeg"},null,8,il)],544)):F("",!0),E(NA)&&v.value?(k(),R("audio",{key:1,onCanplay:e[32]||(e[32]=()=>{m.value&&dA.value.play()}),onPause:e[33]||(e[33]=()=>{v.value&&(m.value=!1)}),onPlay:e[34]||(e[34]=u=>m.value=!0),controls:"",loop:"",ref_key:"audioDom",ref:dA,style:{display:"none"}},[A("source",{src:E(ge),type:"audio/mpeg"},null,8,rl)],544)):F("",!0),t(ht,{modelValue:N.value,"onUpdate:modelValue":e[35]||(e[35]=u=>N.value=u),isRunning:m.value,state:o},null,8,["modelValue","isRunning","state"])],64)}}});const ul=wA(cl,[["__scopeId","data-v-34d827a0"]]),dl="美国",pl="加拿大",fl="中国香港",ml="中国台湾",_l="新加坡",vl="日本",gl="韩国",hl="澳大利亚",wl="新西兰",bl="阿富汗",yl="阿尔巴尼亚",xl="阿尔及利亚",kl="美属萨摩亚(美国)",Ml="安道尔",Sl="安哥拉",Cl="安圭拉",Tl="安提瓜和巴布达",$l="阿根廷",Pl="亚美尼亚",Il="阿鲁巴",Ul="奥地利",Vl="阿塞拜疆",Dl="巴哈马",Bl="巴林",jl="孟加拉国",Ll="巴巴多斯",Gl="白俄罗斯",Nl="比利时",Ol="伯利兹",El="贝宁",Rl="百慕大",Fl="不丹",Jl="玻利维亚",Yl="波黑",zl="博茨瓦纳",Kl="巴西",Ql="英属维京群岛(英国)",ql="文莱",Hl="保加利亚",Wl="布基纳法索",Zl="布隆迪",Xl="柬埔寨",Ao="喀麦隆",eo="佛得角",to="开曼群岛(英国)",lo="中非共和国",oo="乍得",so="智利",no="哥伦比亚",ao="科摩罗",io="刚果(金)",ro="库克群岛(新西兰)",co="哥斯达黎加",uo="科特迪瓦",po="克罗地亚",fo="古巴",mo="塞浦路斯",_o="捷克",vo="丹麦",go="吉布提",ho="多米尼克",wo="多米尼加共和国",bo="厄瓜多尔",yo="埃及",xo="萨尔瓦多",ko="赤道几内亚",Mo="厄立特里亚",So="爱沙尼亚",Co="埃塞俄比亚",To="法罗群岛(丹麦)",$o="斐济",Po="芬兰",Io="法国",Uo="法属圭亚那(法国)",Vo="法属玻利尼西亚",Do="加蓬",Bo="冈比亚",jo="格鲁吉亚",Lo="德国",Go="加纳",No="直布罗陀(英国)",Oo="希腊",Eo="格陵兰",Ro="格林纳达",Fo="瓜德罗普",Jo="关岛(美国)",Yo="危地马拉",zo="几内亚",Ko="几内亚比绍",Qo="圭亚那",qo="海地",Ho="洪都拉斯",Wo="匈牙利",Zo="冰岛",Xo="印度",As="印度尼西亚",es="伊朗",ts="伊拉克",ls="爱尔兰共和国",os="以色列",ss="意大利",ns="牙买加",as="约旦",is="哈萨克斯坦",rs="肯尼亚",cs="基里巴斯",us="北朝鲜",ds="科威特",ps="吉尔吉斯斯坦",fs="老挝",ms="拉脱维亚",_s="黎巴嫩",vs="莱索托",gs="利比里亚",hs="利比亚",ws="列支敦士登",bs="立陶宛",ys="卢森堡",xs="中国澳门",ks="马其顿",Ms="马达加斯加",Ss="马拉维",Cs="马来西亚",Ts="马尔代夫",$s="马里共和国",Ps="马耳他",Is="马绍尔群岛",Us="马提尼克(法国)",Vs="毛里塔尼亚",Ds="毛里求斯",Bs="马约特",js="墨西哥",Ls="密克罗尼西亚联邦",Gs="摩尔多瓦",Ns="摩纳哥",Os="蒙古国",Es="黑山共和国",Rs="蒙塞拉特岛(英国)",Fs="摩洛哥",Js="莫桑比克",Ys="缅甸",zs="纳米比亚",Ks="瑙鲁",Qs="尼泊尔",qs="荷兰",Hs="新喀里多尼亚(法国)",Ws="尼加拉瓜",Zs="尼日尔",Xs="尼日利亚",An="纽埃",en="北马里亚纳群岛(美国)",tn="挪威",ln="阿曼",on="巴基斯坦",sn="帕劳",nn="巴勒斯坦",an="巴拿马",rn="巴布亚新几内亚",cn="巴拉圭",un="中国",dn="秘鲁",pn="菲律宾",fn="波兰",mn="葡萄牙",_n="波多黎各(美国)",vn="卡塔尔",gn="刚果共和国",hn="津巴布韦",wn="留尼汪(法国)",bn="罗马尼亚",yn="俄罗斯",xn="卢旺达",kn="圣赫勒拿",Mn="圣基茨和尼维斯",Sn="圣卢西亚",Cn="圣皮埃尔和密克隆岛(法国)",Tn="圣文森特和格林纳丁斯",$n="萨摩亚",Pn="圣马力诺",In="圣多美和普林西比",Un="沙特阿拉伯",Vn="塞内加尔",Dn="塞尔维亚共和国",Bn="塞舌尔",jn="塞拉利昂",Ln="斯洛伐克",Gn="斯洛文尼亚",Nn="所罗门群岛",On="索马里",En="南非",Rn="南苏丹",Fn="西班牙",Jn="斯里兰卡",Yn="苏丹",zn="苏里南",Kn="斯威士兰",Qn="瑞典",qn="瑞士",Hn="叙利亚",Wn="塔吉克斯坦",Zn="坦桑尼亚",Xn="泰国",Aa="东帝汶",ea="多哥",ta="托克劳",la="汤加",oa="特立尼达和多巴哥",sa="突尼斯",na="土耳其",aa="土库曼斯坦",ia="特克斯和凯科斯群岛(英国)",ra="图瓦卢",ca="乌干达",ua="乌克兰",da="阿拉伯联合酋长国",pa="英国",fa="乌拉圭",ma="乌兹别克斯坦",_a="瓦努阿图",va="委内瑞拉",ga="越南",ha="瓦利斯和富图纳群岛(法国)",wa="也门",ba="赞比亚",ya={599:"荷属安的列斯",US:dl,CA:pl,HK:fl,TW:ml,SG:_l,JP:vl,KR:gl,AU:hl,NZ:wl,AF:bl,AL:yl,DZ:xl,AS:kl,AD:Ml,AO:Sl,AI:Cl,AG:Tl,AR:$l,AM:Pl,AW:Il,AT:Ul,AZ:Vl,BS:Dl,BH:Bl,BD:jl,BB:Ll,BY:Gl,BE:Nl,BZ:Ol,BJ:El,BM:Rl,BT:Fl,BO:Jl,BA:Yl,BW:zl,BR:Kl,VG:Ql,BN:ql,BG:Hl,BF:Wl,BI:Zl,KH:Xl,CM:Ao,CV:eo,KY:to,CF:lo,TD:oo,CL:so,CO:no,KM:ao,CD:io,CK:ro,CR:co,CI:uo,HR:po,CU:fo,CY:mo,CZ:_o,DK:vo,DJ:go,DM:ho,DO:wo,EC:bo,EG:yo,SV:xo,GQ:ko,ER:Mo,EE:So,ET:Co,FO:To,FJ:$o,FI:Po,FR:Io,GF:Uo,PF:Vo,GA:Do,GM:Bo,GE:jo,DE:Lo,GH:Go,GI:No,GR:Oo,GL:Eo,GD:Ro,GP:Fo,GU:Jo,GT:Yo,GN:zo,GW:Ko,GY:Qo,HT:qo,HN:Ho,HU:Wo,IS:Zo,IN:Xo,ID:As,IR:es,IQ:ts,IE:ls,IL:os,IT:ss,JM:ns,JO:as,KZ:is,KE:rs,KI:cs,KP:us,KW:ds,KG:ps,LA:fs,LV:ms,LB:_s,LS:vs,LR:gs,LY:hs,LI:ws,LT:bs,LU:ys,MO:xs,MK:ks,MG:Ms,MW:Ss,MY:Cs,MV:Ts,ML:$s,MT:Ps,MH:Is,MQ:Us,MR:Vs,MU:Ds,YT:Bs,MX:js,FM:Ls,MD:Gs,MC:Ns,MN:Os,ME:Es,MS:Rs,MA:Fs,MZ:Js,MM:Ys,NA:zs,NR:Ks,NP:Qs,NL:qs,NC:Hs,NI:Ws,NE:Zs,NG:Xs,NU:An,MP:en,NO:tn,OM:ln,PK:on,PW:sn,PS:nn,PA:an,PG:rn,PY:cn,CN:un,PE:dn,PH:pn,PL:fn,PT:mn,PR:_n,QA:vn,CG:gn,ZW:hn,RE:wn,RO:bn,RU:yn,RW:xn,SH:kn,KN:Mn,LC:Sn,PM:Cn,VC:Tn,WS:$n,SM:Pn,ST:In,SA:Un,SN:Vn,RS:Dn,SC:Bn,SL:jn,SK:Ln,SI:Gn,SB:Nn,SO:On,ZA:En,SS:Rn,ES:Fn,LK:Jn,SD:Yn,SR:zn,SZ:Kn,SE:Qn,CH:qn,SY:Hn,TJ:Wn,TZ:Zn,TH:Xn,TL:Aa,TG:ea,TK:ta,TO:la,TT:oa,TN:sa,TR:na,TM:aa,TC:ia,TV:ra,UG:ca,UA:ua,AE:da,GB:pa,UY:fa,UZ:ma,VU:_a,VE:va,VN:ga,WF:ha,YE:wa,ZM:ba},xa={style:{"text-align":"center"}},ka={key:0},Ma={key:0},Sa=fA({__name:"IPinfo",props:{isVisible:Boolean},setup(b){const C=b,a=hA({localInfo:null,globalInfo:null,localLay:0,globalLay:0}),p=hA(JSON.parse(localStorage.getItem("ip_cache")||"{}"));jA(()=>{localStorage.setItem("ip_cache",JSON.stringify(p))});const w=v=>{LA(v),lA.success({dangerouslyUseHTMLString:!0,message:"已经复制IP地址：<br><strong>".concat(v,"</strong>")})},_=v=>{const r=["内蒙古","黑龙江","河北","山西","吉林","辽宁","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","海南","四川","贵州","云南","陕西","甘肃","青海","广西","西藏","宁夏","新疆","北京","天津","上海","重庆"];for(let y in r)if(v.includes(r[y]))return r[y];return null};async function o(){try{let r=await(await fetch("//app.ljxnet.cn/network-panel/ip.ajax",{method:"get",mode:"cors",redirect:"follow",referrerPolicy:"no-referrer"})).json();return{ip:r.data.ip,isp:r.data.isp,isChinaMainland:!!_(r.data.province),province:_(r.data.province),city:r.data.city.replace(/市$/,""),area:r.data.districts}}catch(v){throw"获取本地IP失败"}}async function m(v){let r=p[v];return(!r||new Date().getTime()/1e3-r.time>60*60*24*30)&&(r=await o(),r.time=new Date().getTime()/1e3,p[v]=r),r}const N={ip:"127.0.0.1",isp:"获取失败",isChinaMainland:!0,province:"",city:"",area:""};async function i(){if(C.isVisible)try{let r=await(await fetch("https://forge.speedtest.cn/api/location/info",{referrerPolicy:"no-referrer"})).json(),y=await m(r.ip);a.localInfo=y}catch(v){if(v=="获取本地IP失败"){a.localInfo=N;return}console.log(v),a.localInfo=null}setTimeout(i,a.localInfo?5e3:1e3)}async function T(){if(C.isVisible)try{let r=await(await fetch("https://api-ipv4.ip.sb/geoip",{referrerPolicy:"no-referrer"})).json(),y={ip:r.ip,isp:r.isp,country:ya[r.country_code]};a.globalInfo=y}catch(v){a.globalInfo=null}setTimeout(T,a.globalInfo?5e3:1e3)}i(),T();async function B(v,r){if(C.isVisible)try{var y=new Date().getTime();await fetch(v,{method:"HEAD",cache:"no-store",mode:"no-cors",referrerPolicy:"no-referrer"}),a[r]=new Date().getTime()-y}catch(O){a[r]=0}setTimeout(B,1e3,v,r)}return B("https://connectivitycheck.platform.hicloud.com/generate_204","localLay"),B("https://cp.cloudflare.com/","globalLay"),(v,r)=>{const y=g("el-tag"),O=g("el-text"),M=g("el-tooltip"),S=BA("loading");return k(),R("div",{class:"radius card",style:QA({borderRadius:"var(--el-border-radius-round)"})},[A("div",xa,[t(YA,{name:"el-fade-in"},{default:s(()=>[!a.localInfo||a.localInfo.isChinaMainland?cA((k(),R("div",ka,[t(M,{class:"item",effect:"dark",content:a.localInfo?a.localInfo.ip:"Loading...",placement:"top"},{default:s(()=>[A("div",{onClick:r[0]||(r[0]=x=>w(a.localInfo?a.localInfo.ip:""))},[t(y,{style:{width:"50px"},class:"ml-2",type:"success"},{default:s(()=>[l(D(a.localLay?a.localLay+"ms":"-ms"),1)]),_:1}),t(O,{style:{cursor:"pointer","margin-left":"5px","white-space":"nowrap","vertical-align":"-1px"},class:"font-background"},{default:s(()=>[l(D(a.localInfo?a.localInfo.province+" "+a.localInfo.city+" "+a.localInfo.area+" "+a.localInfo.isp:"Loading..."),1)]),_:1})])]),_:1},8,["content"])])),[[S,!a.localInfo]]):F("",!0)]),_:1}),t(YA,{name:"el-fade-in"},{default:s(()=>[a.localInfo&&a.localInfo.isChinaMainland&&!a.globalInfo||a.globalInfo&&a.globalInfo.country!="中国"?cA((k(),R("div",Ma,[t(M,{class:"item",effect:"dark",content:a.globalInfo?a.globalInfo.ip:"Loading...",placement:"top"},{default:s(()=>[A("div",{onClick:r[1]||(r[1]=x=>w(a.globalInfo?a.globalInfo.ip:""))},[t(y,{style:{width:"50px"},class:"ml-2",type:"success"},{default:s(()=>[l(D(a.globalLay?a.globalLay+"ms":"-ms"),1)]),_:1}),t(O,{style:{cursor:"pointer","margin-left":"5px","white-space":"nowrap","vertical-align":"-3px"},class:"font-background"},{default:s(()=>[l(D(a.globalInfo?a.globalInfo.country:""),1)]),_:1}),t(O,{style:{cursor:"pointer","margin-left":"5px","white-space":"nowrap","vertical-align":"-3px"},class:"font-background"},{default:s(()=>[l(D(a.globalInfo?a.globalInfo.isp:""),1)]),_:1})])]),_:1},8,["content"])])),[[S,!a.globalInfo]]):F("",!0)]),_:1})])],4)}}});const Ca=wA(Sa,[["__scopeId","data-v-806ddec9"]]),d=b=>(SA("data-v-4fb05a57"),b=b(),CA(),b),Ta={style:{"margin-top":"15px"}},$a=d(()=>A("div",{style:{width:"fit-content",float:"left"}},[A("div",{class:"icon"},[A("svg",{t:"1702892592527",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4460","data-spm-anchor-id":"a313x.search_index.0.i9.1e343a81LSbmza"},[A("path",{d:"M568.96 459.242667l144-189.205334A382.208 382.208 0 0 0 512 213.333333c-212.074667 0-384 171.925333-384 384a382.293333 382.293333 0 0 0 93.397333 251.008l-64.554666 55.808A467.584 467.584 0 0 1 42.666667 597.333333C42.666667 338.133333 252.8 128 512 128c93.098667 0 179.861333 27.093333 252.842667 73.856l75.882666-99.690667 67.541334 51.413334-273.28 359.04a149.333333 149.333333 0 1 1-66.048-53.376z m266.453333-69.056l54.357334-71.424A467.242667 467.242667 0 0 1 981.333333 597.333333c0 113.706667-40.64 221.226667-113.237333 305.728l-64.725333-55.616A382.272 382.272 0 0 0 896 597.333333c0-76.288-22.250667-147.370667-60.586667-207.146666zM512 661.333333a64 64 0 1 0 0-128 64 64 0 0 0 0 128z",fill:"#ffffff","p-id":"4461"})])]),A("span",{class:"title"}," 网络面板 ")],-1)),Pa={style:{float:"right","margin-top":"5px"}},Ia={key:0,style:{float:"right","margin-top":"5px","margin-right":"5px"}},Ua=d(()=>A("br",null,null,-1)),Va=d(()=>A("span",null,"CDN赞助商",-1)),Da=d(()=>A("img",{src:"https://www.kuocaicdn.com/dashboard/assets/svg/logos/logo.svg",alt:"括彩科技"},null,-1)),Ba=[Va,Da],ja={style:{height:"fit-content","padding-bottom":"10px"}},La={style:{width:"fit-content","margin-left":"auto","margin-right":"auto"}},Ga=d(()=>A("h2",null,"网络面板APP",-1)),Na=d(()=>A("span",null,"Java原生实现",-1)),Oa=d(()=>A("br",null,null,-1)),Ea=d(()=>A("span",null,"1.支持锁屏运行",-1)),Ra=d(()=>A("br",null,null,-1)),Fa=d(()=>A("span",null,"2.支持添加任何链接",-1)),Ja=d(()=>A("br",null,null,-1)),Ya=d(()=>A("span",null,"3.相对于浏览器更加省电",-1)),za=d(()=>A("br",null,null,-1)),Ka=d(()=>A("span",null,"4.通知栏实时查看网络信息",-1)),Qa=d(()=>A("br",null,null,-1)),qa=d(()=>A("h2",null,"更新日志",-1)),Ha=d(()=>A("div",null,[A("h3",null,"v3.0.1"),A("p",null,[l(" 1.通知栏新增开始暂停退出按钮"),A("br"),l(" 2.屏保模式新增电量显示"),A("br"),l(" 再次提示：App可以锁屏运行，不建议使用屏保模式（更耗电） ")])],-1)),Wa=d(()=>A("div",null,[A("h3",null,"v2.7.1"),A("p",null,[l(" 1.多线程速度优化"),A("br"),l(" 2.全新的启动动画"),A("br"),l(" 3.缓存首页资源文件，启动更快"),A("br")])],-1)),Za=d(()=>A("div",null,[A("h3",null,"v2.6"),A("p",null,[l(" 1.修复了线程数设置错误的问题"),A("br"),l(" 2.修复了运行一段时间后可能闪退的问题"),A("br"),l(" 3.修复了部分模拟器闪退的问题"),A("br")])],-1)),Xa=d(()=>A("div",null,[A("h3",null,"v2.5"),A("p",null,[l(" 1.省电优化"),A("br"),l(" 2.安装包体积优化"),A("br")])],-1)),Ai=d(()=>A("div",null,[A("h3",null,"v2.4"),A("p",null,[l(" 1.修复了大量的问题"),A("br")])],-1)),ei=d(()=>A("div",null,[A("h3",null,"v2.3"),A("p",null,[l(" 1.新增上传测速功能"),A("br"),l(" (建议不超过2个线程)"),A("br")])],-1)),ti=d(()=>A("div",null,[A("h3",null,"v2.2"),A("p",null,[l(" 1.修复了启动闪白屏的问题"),A("br"),l(" 2.修复了打开后切换深色模式出现logo遮挡问题"),A("br"),l(" 3.修复了暂停可能不及时的问题"),A("br"),l(" 5.切换到okhttp请求库，提高性能与错误处理能力"),A("br"),l(" 6.通知样式调整"),A("br"),l(" 7.更省电"),A("br")])],-1)),li=d(()=>A("h3",null,"v2.1",-1)),oi=d(()=>A("br",null,null,-1)),si=d(()=>A("br",null,null,-1)),ni=d(()=>A("br",null,null,-1)),ai=d(()=>A("br",null,null,-1)),ii=d(()=>A("br",null,null,-1)),ri=d(()=>A("br",null,null,-1)),ci=d(()=>A("br",null,null,-1)),ui=d(()=>A("h2",null,"网络面板",-1)),di=d(()=>A("br",null,null,-1)),pi=d(()=>A("br",null,null,-1)),fi=d(()=>A("br",null,null,-1)),mi=d(()=>A("br",null,null,-1)),_i=d(()=>A("br",null,null,-1)),vi=d(()=>A("span",null,"特别感谢：",-1)),gi=d(()=>A("br",null,null,-1)),hi=d(()=>A("span",null,"提供免费稳定的CDN服务",-1)),wi=d(()=>A("br",null,null,-1)),bi=d(()=>A("span",null,"提供免费稳定的前端静态资源分发服务",-1)),yi=d(()=>A("br",null,null,-1)),xi=d(()=>A("span",null,"提供免费稳定的前端静态资源分发服务",-1)),ki=d(()=>A("br",null,null,-1)),Mi=d(()=>A("br",null,null,-1)),Si=d(()=>A("span",null,"本项目用到的开源库:",-1)),Ci=d(()=>A("br",null,null,-1)),Ti=d(()=>A("div",null,[A("h2",null,"疑问解答"),A("div",{class:"question"},[A("span",{class:"ask"},"问：APP/后端代码开源吗？"),A("br"),A("span",{class:"answer"},"答：不开源"),A("br")]),A("div",{class:"question"},[A("span",{class:"ask"},"问：我搭建了一个前端页面，能否添加到跨域白名单？"),A("br"),A("span",{class:"answer"},"答：你需要有一定的用户量，并添加链接指向本项目开源仓库，然后联系我加白名单"),A("br")]),A("div",{class:"question"},[A("span",{class:"ask"},"问：能否添加xxx功能？"),A("br"),A("span",{class:"answer"},"答：有合理的建议请联系我"),A("br")])],-1)),$i={class:"dialog-footer"},Pi=fA({__name:"App",setup(b){var C=/Android/i.test(navigator.userAgent);const a=h(!0),p=h(!1);window.location.hash=="#app"&&(p.value=!0);const w=()=>{history.replaceState(null,document.title,window.location.pathname+window.location.search)};eA(p,N=>{N?window.location.hash="#app":w()});const _=h(!1),o=N=>{window.open(N)};let m=N=>{LA(N),lA.info({dangerouslyUseHTMLString:!0,message:"<center>已经复制到剪切板</center>"})};return document.addEventListener("visibilitychange",function(){var N=document.visibilityState;N==="hidden"?a.value=!1:a.value=!0}),(N,i)=>{const T=g("el-button"),B=g("el-header"),v=g("el-main"),r=g("el-link"),y=g("el-container"),O=g("el-dialog");return k(),R(gA,null,[t(y,null,{default:s(()=>[t(B,{class:"header"},{default:s(()=>[A("div",Ta,[$a,A("div",Pa,[t(T,{class:"home",onClick:i[0]||(i[0]=M=>_.value=!0),round:""},{default:s(()=>[l("关于")]),_:1})]),E(C)?(k(),R("div",Ia,[t(T,{class:"home",onClick:i[1]||(i[1]=M=>p.value=!0),round:""},{default:s(()=>[l("APP")]),_:1})])):F("",!0)])]),_:1}),t(v,null,{default:s(()=>[t(ul,{isVisible:a.value},null,8,["isVisible"]),Ua,t(Ca,{isVisible:a.value},null,8,["isVisible"]),A("div",{onClick:i[2]||(i[2]=M=>o("https://kuocai.cn/")),class:"banner card"},Ba)]),_:1}),A("div",ja,[A("div",La,[t(r,{type:"info",onClick:i[3]||(i[3]=M=>o("https://netart.cn/")),target:"_blank"},{default:s(()=>[l("Whoami")]),_:1}),l("  "),t(r,{type:"info",onClick:i[4]||(i[4]=M=>o("https://github.com/ljxi/NetworkPanel")),target:"_blank"},{default:s(()=>[l("源码")]),_:1})])])]),_:1}),t(O,{"align-center":"",style:{width:"90%","max-width":"700px"},modelValue:p.value,"onUpdate:modelValue":i[7]||(i[7]=M=>p.value=M),title:"APP下载"},{default:s(()=>[A("div",null,[t(T,{style:{float:"right","margin-top":"-5px"},type:"primary",onClick:i[5]||(i[5]=M=>o("https://api.netart.cn/d?b013x15cb"))},{default:s(()=>[l(" 下载最新版 ")]),_:1}),Ga,Na,Oa,Ea,Ra,Fa,Ja,Ya,za,Ka,Qa]),A("div",null,[qa,Ha,Wa,Za,Xa,Ai,ei,ti,A("div",null,[li,A("p",null,[l(" 1.修复了2.0版本部分链接跑一会儿没速度的问题，修复了一个增加耗电的问题"),oi,l(" 2.核心功能完全由原生Java层接管，省电不发热的同时可以保后台，实测小米6黑屏后台运行12小时不掉"),si,l(" 3.同步近期网页版更新内容"),ni,l(),ai,l(" 保后台条件:"),ii,l(" 1.通知栏能够正常显示进度信息（如果没有看到通知，去设置检查通知权限）"),ri,l(" 2.加入电池优化白名单（如果没有加入，打开app会弹窗要求加入）"),ci,l(" 如果部分老旧机型打开白屏，请 "),t(r,{onClick:i[6]||(i[6]=M=>o("https://api.netart.cn/d?b013x2a3i")),type:"primary"},{default:s(()=>[l("点此下载")]),_:1}),l(" webview内核，并在开发者选项内启用该内核后重试 ")])])])]),_:1},8,["modelValue"]),t(O,{style:{width:"90%","max-width":"400px"},modelValue:_.value,"onUpdate:modelValue":i[23]||(i[23]=M=>_.value=M),title:"关于"},{footer:s(()=>[A("span",$i,[t(T,{onClick:i[22]||(i[22]=M=>_.value=!1)},{default:s(()=>[l("关闭")]),_:1})])]),default:s(()=>[A("div",null,[ui,A("span",null,[l("作者："),t(r,{onClick:i[8]||(i[8]=M=>o("https://netart.cn/")),type:"primary"},{default:s(()=>[l("Whoami")]),_:1})]),di,A("span",null,[l("QQ："),t(r,{type:"primary",onClick:i[9]||(i[9]=M=>E(m)("582424565"))},{default:s(()=>[l("582424565 ")]),_:1})]),pi,A("span",null,[l("QQ群："),t(r,{type:"primary",onClick:i[10]||(i[10]=M=>E(m)("463481772"))},{default:s(()=>[l("463481772 ")]),_:1})]),fi,A("span",null,[l("开源地址："),t(r,{onClick:i[11]||(i[11]=M=>o("https://github.com/ljxi/NetworkPanel")),type:"primary"},{default:s(()=>[l("Github")]),_:1})]),mi,A("span",null,[l("赞助支持： "),t(r,{onClick:i[12]||(i[12]=M=>o("https://afdian.net/a/ljxnet")),type:"primary"},{default:s(()=>[l("爱发电")]),_:1}),l("  "),t(r,{onClick:i[13]||(i[13]=M=>o("https://qr.alipay.com/fkx13781i79xywfarbvrsfc")),type:"primary"},{default:s(()=>[l("支付宝")]),_:1})]),_i,vi,gi,t(r,{onClick:i[14]||(i[14]=M=>o("https://www.kuocaicdn.com/register?code=8z8urvbg2ffd9")),type:"primary"},{default:s(()=>[l("括彩科技")]),_:1}),hi,wi,t(r,{onClick:i[15]||(i[15]=M=>o("https://staticfile.org/")),type:"primary"},{default:s(()=>[l("七牛云")]),_:1}),bi,yi,t(r,{onClick:i[16]||(i[16]=M=>o("https://www.bootcdn.cn/")),type:"primary"},{default:s(()=>[l("BootCDN")]),_:1}),xi,ki,Mi,Si,Ci,t(r,{onClick:i[17]||(i[17]=M=>o("https://github.com/vuejs/core")),type:"primary"},{default:s(()=>[l("Vue")]),_:1}),l("  "),t(r,{onClick:i[18]||(i[18]=M=>o("https://github.com/element-plus/element-plus")),type:"primary"},{default:s(()=>[l("ElementPlus")]),_:1}),l("  "),t(r,{onClick:i[19]||(i[19]=M=>o("https://github.com/apache/echarts")),type:"primary"},{default:s(()=>[l("echarts")]),_:1}),l("  "),t(r,{onClick:i[20]||(i[20]=M=>o("https://github.com/richtr/NoSleep.js")),type:"primary"},{default:s(()=>[l("NoSleep.js")]),_:1}),l("  "),t(r,{onClick:i[21]||(i[21]=M=>o("https://github.com/soerenmartius/vue3-clipboard")),type:"primary"},{default:s(()=>[l("vue3-clipboard")]),_:1}),l("  ")]),Ti]),_:1},8,["modelValue"])],64)}}});const Ii=wA(Pi,[["__scopeId","data-v-4fb05a57"]]);const GA=me(Ii);GA.use(_e);GA.use(ve);GA.mount("#app");export{Ui as __vite_legacy_guard};
